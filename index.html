<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Beamer Tracer</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="toolbar">
    <button id="btn-load" title="Bild laden (Ctrl+O)">ğŸ“‚ Bild</button>
    <div class="separator"></div>
    <button id="btn-grid" title="Raster ein/aus (G)">ğŸ“ Raster</button>
    <label class="toolbar-input" title="Rasterweite in Pixel">
      <input type="number" id="input-grid-size" value="50" min="10" max="500" step="10">
      <span>px</span>
    </label>
    <button id="btn-center" title="Mittellinien (C)">âœ› Mitte</button>
    <button id="btn-thirds" title="Drittel-Linien (T)">â–¦ Drittel</button>
    <button id="btn-ruler" title="ReferenzmaÃŸ (R)">ğŸ“ MaÃŸstab</button>
    <button id="btn-crosshair" class="active" title="Fadenkreuz ein/aus (X)">âœš Fadenkreuz</button>
    <div class="separator"></div>
    <button id="btn-calibrate" title="Kalibrierung starten">ğŸ”§ Kalibrieren</button>
    <button id="btn-restore-zoom" class="hidden" title="Kalibrierten Zoom wiederherstellen">ğŸ¯ Kal. Zoom</button>
    <button id="btn-recalibrate" class="hidden" title="Kalibrierung neu starten">ğŸ”„ Neu Kal.</button>
    <div class="separator"></div>
    <label class="toolbar-label" title="Kontrast">
      ğŸ”†
      <input type="range" id="slider-contrast" min="50" max="300" value="100" step="5">
      <span id="contrast-display">100%</span>
    </label>
    <label class="toolbar-label" title="Helligkeit">
      â˜€ï¸
      <input type="range" id="slider-brightness" min="0" max="300" value="100" step="5">
      <span id="brightness-display">100%</span>
    </label>
    <div class="separator"></div>
    <span id="zoom-display" title="Zoom-Stufe">100%</span>
    <span id="scale-display" title="Kalibrierter MaÃŸstab"></span>
  </div>
  <div id="calibrate-banner-step1" class="calibrate-banner hidden">
    ğŸ”§ <strong>Schritt 1 â€“ ProjektionsflÃ¤che:</strong> Verschiebe die gelbe 1-Meter-Linie (<strong>Maus ziehen</strong>) und zoome sie (<strong>Mausrad / +âˆ’</strong>), bis sie genau der echten 1-Meter-Markierung auf der Wand entspricht.
    <button id="btn-cal-step1-ok">âœ… Weiter</button>
    <button id="btn-cal-cancel">Abbrechen</button>
  </div>
  <div id="calibrate-banner-step2" class="calibrate-banner hidden">
    ğŸ”§ <strong>Schritt 2 â€“ Bild kalibrieren:</strong> Klicke <strong>2 Punkte</strong> auf dem Bild. Punkte kÃ¶nnen per Drag verschoben werden. <strong>Shift</strong> = horizontal/vertikal einrasten. <strong>Mausrad</strong> = Zoom, <strong>Pfeiltasten</strong> = Pan.
    <label style="margin-left:12px">Abstand:
      <input type="number" id="input-calibrate-cm" value="10" min="0.1" step="0.1" style="width:60px;text-align:right;margin:0 4px"> cm
    </label>
    <button id="btn-cal-step2-ok" disabled>âœ… BestÃ¤tigen</button>
    <button id="btn-cal-cancel2">Abbrechen</button>
  </div>
  <div id="viewport">
    <canvas id="canvas-image"></canvas>
    <canvas id="canvas-overlay"></canvas>
  </div>
  <div id="help-overlay" class="hidden">
    <div class="help-box">
      <h2>âŒ¨ï¸ Tastenbelegung</h2>
      <table>
        <tr><td>Pfeiltasten</td><td>Pan (5px)</td></tr>
        <tr><td>Shift + Pfeiltasten</td><td>Fein-Pan (1px)</td></tr>
        <tr><td>Ctrl + Pfeiltasten</td><td>Grob-Pan (50px)</td></tr>
        <tr><td>+ / âˆ’</td><td>Zoom rein/raus (1%)</td></tr>
        <tr><td>Mausrad</td><td>Zoom zum Cursor</td></tr>
        <tr><td>Linke Maus / Mitteltaste</td><td>Bild ziehen</td></tr>
        <tr><td>G</td><td>Raster</td></tr>
        <tr><td>C</td><td>Mittellinien</td></tr>
        <tr><td>T</td><td>Drittel</td></tr>
        <tr><td>R</td><td>MaÃŸstab</td></tr>
        <tr><td>X</td><td>Fadenkreuz</td></tr>
        <tr><td>0</td><td>Ansicht zurÃ¼cksetzen</td></tr>
        <tr><td>Ctrl + O</td><td>Bild laden</td></tr>
        <tr><td>H / F1</td><td>Diese Hilfe</td></tr>
      </table>
      <button id="btn-help-close">SchlieÃŸen</button>
    </div>
  </div>
  <script src="renderer.js"></script>
</body>
</html>